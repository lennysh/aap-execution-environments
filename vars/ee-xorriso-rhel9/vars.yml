---
ee_dest_registry_name: quay.io
ee_image_name: lshirley/ee-xorriso-rhel9
ee_base_image: registry.access.redhat.com/ubi9/ubi:latest
ee_base_sig_name: registry.access.redhat.com/ubi9/ubi:latest
ee_package_manager_path: /usr/bin/dnf
ee_ansible_core: "ansible-core==2.15"
ee_ansible_runner: ansible-runner
# ee_python_interpreter:
#  package_system: "python310"
#  python_path: "/usr/bin/python3.11"
# ee_build_files:
#   - src: "ansible.cfg"
#     dest: configs
# ee_bindep:
#   - xorriso [platform:rpm]
ee_python:
  - requests
# ee_collections:
#   -
ee_prepend_base:
  # Install xorriso
  - RUN curl -o ./libisofs.rpm https://repo.almalinux.org/almalinux/9/AppStream/x86_64/os/Packages/libisofs-1.5.4-4.el9.x86_64.rpm
  - RUN curl -o ./libburn.rpm https://repo.almalinux.org/almalinux/9/AppStream/x86_64/os/Packages/libburn-1.5.4-5.el9.x86_64.rpm
  - RUN curl -o ./libisoburn.rpm https://repo.almalinux.org/almalinux/9/AppStream/x86_64/os/Packages/libisoburn-1.5.4-5.el9_5.x86_64.rpm
  - RUN curl -o ./xorriso.rpm https://repo.almalinux.org/almalinux/9/AppStream/x86_64/os/Packages/xorriso-1.5.4-5.el9_5.x86_64.rpm
  - RUN rpm -i ./libisofs.rpm ./libburn.rpm ./libisoburn.rpm ./xorriso.rpm
  # - RUN subscription-manager register --activationkey={{ rhel_activationkey }} --org={{ rhel_org }}
# ee_append_base:
#   - RUN dnf install -y xorriso
# ee_prepend_galaxy:
#   -
# ee_prepend_builder:
#   -
# ee_prepend_final:
#   -
ee_append_final:
  - RUN dnf clean all && rm -rf /var/cache/yum
  # - RUN subscription-manager unregister
